{% extends "base.html" %}
{% block content %}
<div class="card mx-auto" style="max-width: 700px;">
    <div class="card-body">
        <h2 class="text-center">{{ survey.title }}</h2>
        <hr>
        <form method="POST">
            {% for q in survey.questions %}
            <div class="mb-4 p-3 bg-light rounded">
                <label class="fw-bold d-block mb-2">{{ loop.index }}. {{ q.text }}</label>
                
                {% if q.type == 'text' %}
                    <textarea name="q_{{ q.id }}" class="form-control" rows="2" required></textarea>

                {% elif q.type == 'radio' %}
                    {% for opt in q.options %}
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="q_{{ q.id }}" value="{{ opt }}" id="opt_{{ q.id }}_{{ loop.index }}" required>
                        <label class="form-check-label" for="opt_{{ q.id }}_{{ loop.index }}">{{ opt }}</label>
                    </div>
                    {% endfor %}

                {% elif q.type == 'checkbox' %}
                    {% for opt in q.options %}
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="q_{{ q.id }}" value="{{ opt }}" id="chk_{{ q.id }}_{{ loop.index }}">
                        <label class="form-check-label" for="chk_{{ q.id }}_{{ loop.index }}">{{ opt }}</label>
                    </div>
                    {% endfor %}
                {% endif %}
            </div>
            {% endfor %}
            
            <button class="btn btn-primary w-100 btn-lg">Envoyer mes r√©ponses</button>
        </form>
    </div>
</div>
{% endblock %}